<UserControl
    x:Class="Lab1.LightSourcesPopup"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Lab1"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DataContext="{d:DesignInstance Type=local:LightEditorViewModel}"
    mc:Ignorable="d">
    <UserControl.Resources>
        <DataTemplate DataType="{x:Type local:PointLightSourceModel}">
            <StackPanel Margin="10">
                <TextBlock FontWeight="Bold" Text="Point Light" />
                <local:Vector3Editor Label="Color" Vector="{Binding Color, Mode=TwoWay}" />
                <StackPanel Orientation="Horizontal">
                    <TextBlock Width="100" Text="Intensity" />
                    <TextBox Width="100" Text="{Binding Intensity}" />
                </StackPanel>
                <local:Vector3Editor Label="Position" Vector="{Binding Position, Mode=TwoWay}" />
                <StackPanel Orientation="Horizontal">
                    <TextBlock Width="100" Text="Shadow map size" />
                    <TextBox Width="100" Text="{Binding ShadowMapSize}" />
                </StackPanel>
            </StackPanel>
        </DataTemplate>

        <DataTemplate DataType="{x:Type local:DirectionalLightSourceModel}">
            <StackPanel Margin="10">
                <TextBlock FontWeight="Bold" Text="Directional Light" />
                <local:Vector3Editor Label="Color" Vector="{Binding Color, Mode=TwoWay}" />
                <StackPanel Orientation="Horizontal">
                    <TextBlock Width="100" Text="Intensity" />
                    <TextBox Width="100" Text="{Binding Intensity}" />
                </StackPanel>
                <local:Vector3Editor Label="Direction" Vector="{Binding Direction, Mode=TwoWay}" />
                <StackPanel Orientation="Horizontal">
                    <TextBlock Width="100" Text="Shadow map size" />
                    <TextBox Width="100" Text="{Binding ShadowMapSize}" />
                </StackPanel>
            </StackPanel>
        </DataTemplate>

        <DataTemplate DataType="{x:Type local:SpotLightSourceModel}">
            <StackPanel Margin="10">
                <TextBlock FontWeight="Bold" Text="Spot Light" />
                <local:Vector3Editor Label="Color" Vector="{Binding Color, Mode=TwoWay}" />
                <StackPanel Orientation="Horizontal">
                    <TextBlock Width="100" Text="Intensity" />
                    <TextBox Width="100" Text="{Binding Intensity}" />
                </StackPanel>
                <local:Vector3Editor Label="Position" Vector="{Binding Position, Mode=TwoWay}" />
                <local:Vector3Editor Label="Direction" Vector="{Binding Direction, Mode=TwoWay}" />
                <StackPanel Orientation="Horizontal">
                    <TextBlock Width="100" Text="CutOff" />
                    <TextBox Width="100" Text="{Binding CutOff}" />
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                    <TextBlock Width="100" Text="OuterCutOff" />
                    <TextBox Width="100" Text="{Binding OuterCutOff}" />
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                    <TextBlock Width="100" Text="Shadow map size" />
                    <TextBox Width="100" Text="{Binding ShadowMapSize}" />
                </StackPanel>
            </StackPanel>
        </DataTemplate>
    </UserControl.Resources>
    <Border
        Padding="10"
        BorderBrush="White"
        BorderThickness="1">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="2*" />
            </Grid.ColumnDefinitions>

            <!--  Left Panel  -->
            <StackPanel Grid.Column="0">
                <Button Command="{Binding AddPointLightCommand}" Content="Add Point Light" />
                <Button Command="{Binding AddDirectionalLightCommand}" Content="Add Directional Light" />
                <Button Command="{Binding AddSpotLightCommand}" Content="Add Spot Light" />
                <Button Command="{Binding DeleteLightCommand}" Content="Delete Light" />
                <ListBox
                    DisplayMemberPath="GetType().Name"
                    ItemsSource="{Binding LightSources}"
                    SelectedItem="{Binding SelectedLight}" />
            </StackPanel>

            <!--  Right Panel  -->
            <ContentControl
                Grid.Column="1"
                Margin="10"
                Content="{Binding SelectedLight}" />
        </Grid>
    </Border>
</UserControl>
